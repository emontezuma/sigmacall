<div class="contenido" class="mat-typography">
    <div class="cabecera">
      <mat-icon class="iconoDialogo" svgIcon="formato"></mat-icon>
      <p class="tituloDialogo"><strong>Cambiar formato de la gráfica</strong></p>
    </div>
  
  <mat-card class="posicion">
    <mat-card-content >
      <form novalidate="" #forma="ngForm">
      <div class ="lista">
        <div class="titulo">(1) Formato general de la gráfica</div>
        <div class="mensaje" *ngIf="datos.tipo == 4 || datos.tipo == 5">Nada que configurar en esta sección...</div>
        <div class="caja" *ngIf="datos.tipo != 4 && datos.tipo != 5">
          <mat-form-field class="caja1" >
            <mat-label class="etiqueta">Título del gráfico</mat-label>
            <input matInput #txtR placeholder="Título que aparecerá en la parte superior del gráfico" [(ngModel)]="titulo" maxlength="100" autocomplete="off" name="titulo" required #tituloN="ngModel">
            <mat-hint class="pista" align="end">{{tituloN.value?.length || 0}} de 100</mat-hint>
          </mat-form-field>
          <mat-form-field class="caja2">
            <mat-label class="etiqueta">Tamaño/fuente</mat-label>
            <mat-select [(value)]="titulo_fuente" name="titulo_fuente">
              <mat-option *ngFor="let fuente of fuentes" [(value)]="fuente.id">{{ fuente.fuente }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="caja"  *ngIf="datos.tipo != 4 && datos.tipo != 5">
            <mat-form-field class="caja1">
              <mat-label class="etiqueta">Título del eje X</mat-label>
              <input matInput placeholder="Título para el eje de la X" [(ngModel)]="texto_x" maxlength="100" autocomplete="off" name="texto_x" required #texto_xN="ngModel">
              <mat-hint class="pista" align="end">{{texto_xN.value?.length || 0}} de 100</mat-hint>
            </mat-form-field>
            <mat-form-field class="caja2">
              <mat-label class="etiqueta">Tamaño/fuente</mat-label>
              <mat-select [(value)]="texto_x_fuente" name="texto_x_fuente">
                <mat-option *ngFor="let fuente of fuentes" [(value)]="fuente.id">{{ fuente.fuente }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="caja"  *ngIf="datos.tipo != 4 && datos.tipo != 5">
              <mat-form-field class="caja1">
                <mat-label class="etiqueta">Título del eje Y</mat-label>
                <input matInput placeholder="Título para el eje de la X" [(ngModel)]="texto_y" maxlength="100" autocomplete="off" name="texto_y" required #texto_yN="ngModel">
                <mat-hint class="pista" align="end">{{texto_yN.value?.length || 0}} de 100</mat-hint>
              </mat-form-field>
              <mat-form-field class="caja2">
                <mat-label class="etiqueta">Tamaño/fuente</mat-label>
                <mat-select [(value)]="texto_y_fuente" name="texto_y_fuente">
                  <mat-option *ngFor="let fuente of fuentes" [(value)]="fuente.id">{{ fuente.fuente }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div class="caja"  *ngIf="datos.tipo != 4 && datos.tipo != 5">
                <mat-form-field class="caja21">
                  <mat-label class="etiqueta">Fuente para la leyenda</mat-label>
                  <mat-select [(value)]="etiqueta_leyenda" name="etiqueta_leyenda">
                    <mat-option *ngFor="let fuente of fuentes" [(value)]="fuente.id">{{ fuente.fuente }}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="caja22">
                  <mat-label class="etiqueta">Fuente para las etiquetas</mat-label>
                  <mat-select [(value)]="etiqueta_fuente" name="etiqueta_fuente">
                    <mat-option *ngFor="let fuente of fuentes" [(value)]="fuente.id">{{ fuente.fuente }}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="tituloSiguiente">(2) Sobrecarga de items en la gráfica</div>
              <div class="mensaje" *ngIf="datos.tipo == 4 || datos.tipo == 5">Nada que configurar en esta sección...</div>
              <div class="caja"  *ngIf="datos.tipo != 4 && datos.tipo != 5">
                  <mat-form-field class="caja21">
                    <mat-label class="etiqueta">Limitar por número de items</mat-label>
                    <mat-select [(value)]="maximo_barras" name="maximo_barras">
                      <mat-option value="0">No limitar</mat-option>
                      <mat-option value="2">2 items</mat-option>
                      <mat-option value="3">3 items</mat-option>
                      <mat-option value="4">4 items</mat-option>
                      <mat-option value="5">5 items</mat-option>
                      <mat-option value="6">6 items</mat-option>
                      <mat-option value="7">7 items</mat-option>
                      <mat-option value="8">8 items</mat-option>
                      <mat-option value="9">9 items</mat-option>
                      <mat-option value="10">10 items</mat-option>
                      <mat-option value="12">12 items</mat-option>
                      <mat-option value="15">15 items</mat-option>
                      <mat-option value="20">20 items</mat-option>
                      <mat-option value="25">25 items</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field class="caja22">
                      <mat-label class="etiqueta">Limitar por Porcentaje</mat-label>
                      <mat-select [(value)]="maximo_barraspct" name="maximo_barraspct">
                        <mat-option value="0">No limitar</mat-option>
                        <mat-option value="66">66%</mat-option>
                        <mat-option value="70">70%</mat-option>
                        <mat-option value="75">75%</mat-option>
                        <mat-option value="80">80%</mat-option>
                        <mat-option value="85">85%</mat-option>
                        <mat-option value="90">90%</mat-option>
                        <mat-option value="95">95%</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field class="caja23" *ngIf="datos.tipo == 2 || datos.tipo == 3">
                      <mat-label class="orden" >Orden de los items</mat-label>
                      <mat-select [(value)]="orden" name="orden" #periodo>
                        <mat-option value="F">Frecuencia</mat-option>
                        <mat-option value="T">Tiempo</mat-option>
                      </mat-select>
                    </mat-form-field>
                  
                </div>
                <div class="cajaEstatus2" *ngIf="datos.tipo != 4 && datos.tipo != 5">
                  <mat-checkbox class="estatus" disableRipple="true" [(ngModel)]="agrupar" name="agrupar" color="warn">Sumarizar sobrecarga en un item VARIOS</mat-checkbox>                
                </div>
                <div class="cajaEstatus2" *ngIf="datos.tipo != 4 && datos.tipo != 5">
                  <mat-checkbox class="estatus" disableRipple="true" [(ngModel)]="agrupar_alfinal" name="agrupar_alfinal" color="warn">Mantener el item VARIOS al final de gráfico</mat-checkbox>                
                </div> 
                <div class="tituloSiguiente">(3)Filtro de inicio</div>
                <div class="caja">
                    <mat-form-field class="caja31">
                      <mat-label class="etiqueta">Período</mat-label>
                      <mat-select [(value)]="periodo_tipo" name="periodo_tipo" #periodo>
                        <mat-option value="0">Segundos</mat-option>
                        <mat-option value="1">Minutos</mat-option>
                        <mat-option value="2">Horas</mat-option>
                        <mat-option value="3">Días</mat-option>
                        <mat-option value="4">Semanas</mat-option>
                        <mat-option value="5">Meses</mat-option>
                        <mat-option value="6">Años</mat-option>
                        <mat-option value="10">Lo que va del día</mat-option>
                        <mat-option value="11">Lo que va de la semana</mat-option>
                        <mat-option value="12">Lo que va del mes (MtD)</mat-option>
                        <mat-option value="13">Lo que va del año (YtD)</mat-option>
                        <mat-option value="20">Ayer</mat-option>
                        <mat-option value="21">Semana anterior</mat-option>
                        <mat-option value="22">Mes anterior</mat-option>
                        <mat-option value="23">Año anterior</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field class="caja32">
                      <mat-label class="etiqueta">Períodos hacia atrás</mat-label>
                      <input matInput #txtTiempo placeholder="Períodos" type="number" min="1" max="100000000" [(ngModel)]="periodo_atras" maxlength="8" autocomplete="off" name="periodo_atras" required #periodo_atrasN="ngModel" [disabled]="periodo.value > 7">
                      <mat-hint class="pista" align="start">Períodos: 1-99999999</mat-hint>
                    </mat-form-field>
                </div>
                <div class="tituloSiguiente">(4)Tabla de datos</div>
                <div class="mensaje" *ngIf="datos.tipo == 4 || datos.tipo == 5">Nada que configurar en esta sección...</div>
              <div class="cajaEstatus2" *ngIf="datos.tipo != 4 && datos.tipo != 5">
                <mat-checkbox class="estatus" disableRipple="true" [(ngModel)]="mostrar_tabla" name="mostrar_tabla" color="warn">Mostrar tabla de datos</mat-checkbox>                
              </div> 
              <div class="tituloSiguiente">(5)Colores de fondo y texto</div>
              <div class="mensaje" *ngIf="datos.tipo == 4 || datos.tipo == 5">Nada que configurar en esta sección...</div>
              <div class="cajaColor">
                <div class="etiColor">Fondo</div>
                <dx-color-box class="colores" [(value)]="color_fondo" applyButtonText="Aceptar" cancelButtonText="Cancelar"></dx-color-box>
                <div class="etiColor">Texto</div>
                <dx-color-box class="colores" [(value)]="color_letras" applyButtonText="Aceptar" cancelButtonText="Cancelar"></dx-color-box>
              </div>
              <div class="cajaColor">
                <div class="etiColor">Fondo/bar</div>
                <dx-color-box class="colores" [(value)]="color_fondo_barras" applyButtonText="Aceptar" cancelButtonText="Cancelar"></dx-color-box>
                <div class="etiColor">Fondo/leyend</div>
                <dx-color-box class="colores" [(value)]="color_leyenda" applyButtonText="Aceptar" cancelButtonText="Cancelar"></dx-color-box>
              </div>

      </div>
      </form>
    </mat-card-content>
  </mat-card>
  
  <div class="pie">
    <button class="botonOtro" mat-raised-button (click) = "validar()">
      <mat-icon class="iconoBoton" svgIcon="aceptar"></mat-icon>
      Guardar
    </button>
    <button class="botonOtro" mat-raised-button (click) = "recuperar()">
      <mat-icon class="iconoBoton" svgIcon="copiar"></mat-icon>
      Valores iniciales
    </button>
    <button class="botonNo" mat-raised-button (click) = "cancelar()">
      <mat-icon class="iconoBoton" svgIcon="cancelar"></mat-icon>
      Cancelar
    </button>
  </div>
  </div>
  